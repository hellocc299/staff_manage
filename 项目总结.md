



**员工后台管理**

整理思路

**用户表**

**id 用户名(员工编号、唯一) 真实姓名 密码 出生日期 入职日期 部门 职位 级别 手机号码 用户状态(是否离职) 专业 学历 邮箱**

菜单表

**id userId url** 菜单 

权限表

**id userId** 权限**(**只读，都可以访问**)**

功能

头像 修改密码 显示信息(跳转到档案) 退出登录

1. 员工总览**(**全部**)**
2. 员工档案**(**全部**)**

当前页面显示当前员工

**boss**和人事行政经理有查看其他员工的功能

其他人只能查看自己的档案

3. 员工管理：**boss**和人事行政经理有这个页面：所有员工 CRUD

4. 审批事项

5. 人事调动

### 技术

koa+vue

创建用户：授权，创建







创建用户 -> 设置默认密码123456 ->



错误：statu message

知识点总结：

1. 表回显

   在edit-modal监听editDefaultInfo的改变，点击编辑，把这行数据深拷贝一份给了editDefaultInfo，editDefaultInfo发生变化，newValue发生变化(为深拷贝后的editDefaultInfo),然后赋值给formData，form表单监听，实现回显

项目中遇到的问题：

后端：

1.根据条件查询用户，部分字段条件为空时无法对应参数，这里我选择了字符串拼接的方式

前端

1. vuex保存的数据一刷新后就会消失

   原因：因为store里的数据是保存在运行内存中的,当页面刷新时，页面会重新加载vue实例，store里面的数据就会被重新赋值初始化

   解决：第一次登录就要将数据保存到localStorage和state中

没有完成的功能：

1. 分页器没有位于中央

   

